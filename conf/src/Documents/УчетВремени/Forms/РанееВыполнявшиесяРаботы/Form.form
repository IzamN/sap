<?xml version="1.0" encoding="UTF-8"?>
<form:Form xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:core="http://g5.1c.ru/v8/dt/mcore" xmlns:form="http://g5.1c.ru/v8/dt/form" xmlns:schema="http://g5.1c.ru/v8/dt/data-composition-system/schema">
  <title>
    <key>ru</key>
    <value>Ранее выполнявшиеся работы</value>
  </title>
  <items xsi:type="form:FormField">
    <name>Период</name>
    <id>26</id>
    <title>
      <key>ru</key>
      <value>Включать работы за период</value>
    </title>
    <visible>true</visible>
    <enabled>true</enabled>
    <userVisible>
      <common>true</common>
    </userVisible>
    <dataPath xsi:type="form:DataPath">
      <segments>Период</segments>
    </dataPath>
    <handlers>
      <event>OnChange</event>
      <name>ПериодПриИзменении</name>
    </handlers>
    <extendedTooltip>
      <name>ПериодРасширеннаяПодсказка</name>
      <id>28</id>
      <type>Label</type>
      <autoMaxWidth>true</autoMaxWidth>
      <autoMaxHeight>true</autoMaxHeight>
      <extInfo xsi:type="form:LabelDecorationExtInfo">
        <horizontalAlign>Left</horizontalAlign>
      </extInfo>
    </extendedTooltip>
    <contextMenu>
      <name>ПериодКонтекстноеМеню</name>
      <id>27</id>
      <autoFill>true</autoFill>
    </contextMenu>
    <type>InputField</type>
    <editMode>Enter</editMode>
    <showInHeader>true</showInHeader>
    <headerHorizontalAlign>Left</headerHorizontalAlign>
    <showInFooter>true</showInFooter>
    <extInfo xsi:type="form:InputFieldExtInfo">
      <autoMaxWidth>true</autoMaxWidth>
      <autoMaxHeight>true</autoMaxHeight>
      <wrap>true</wrap>
      <chooseType>true</chooseType>
      <typeDomainEnabled>true</typeDomainEnabled>
      <textEdit>true</textEdit>
    </extInfo>
  </items>
  <items xsi:type="form:Table">
    <name>Работы</name>
    <id>36</id>
    <visible>true</visible>
    <enabled>true</enabled>
    <userVisible>
      <common>true</common>
    </userVisible>
    <dataPath xsi:type="form:DataPath">
      <segments>Работы</segments>
    </dataPath>
    <titleLocation>None</titleLocation>
    <excludedCommands>LoadDynamicListSettings</excludedCommands>
    <excludedCommands>SaveDynamicListSettings</excludedCommands>
    <items xsi:type="form:FormField">
      <name>ВедениеХронометража</name>
      <id>66</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Работы.ИндексКартинкиХронометража</segments>
      </dataPath>
      <titleLocation>None</titleLocation>
      <toolTip>
        <key>ru</key>
        <value>Ведение хронометража</value>
      </toolTip>
      <extendedTooltip>
        <name>ВедениеХронометражаРасширеннаяПодсказка</name>
        <id>68</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>ВедениеХронометражаКонтекстноеМеню</name>
        <id>67</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>PictureField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerPicture xsi:type="core:PictureRef">
        <picture>CommonPicture.ПереключитьХронометражСППР</picture>
      </headerPicture>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:ImageFieldExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <horizontalStretch>true</horizontalStretch>
        <verticalStretch>true</verticalStretch>
        <valuesPicture xsi:type="core:PictureRef">
          <picture>CommonPicture.ПереключитьХронометражСППР</picture>
        </valuesPicture>
        <border xsi:type="core:BorderDef">
          <style>Single</style>
          <width>1</width>
        </border>
        <fileDragMode>AsFileRef</fileDragMode>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>РаботыОписаниеРаботы</name>
      <id>55</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Работы.ОписаниеРаботы</segments>
      </dataPath>
      <extendedTooltip>
        <name>РаботыОписаниеРаботыРасширеннаяПодсказка</name>
        <id>57</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>РаботыОписаниеРаботыКонтекстноеМеню</name>
        <id>56</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>РаботыРабота</name>
      <id>61</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Работы.Работа</segments>
      </dataPath>
      <extendedTooltip>
        <name>РаботыРаботаРасширеннаяПодсказка</name>
        <id>63</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>РаботыРаботаКонтекстноеМеню</name>
        <id>62</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>РаботыПроект</name>
      <id>58</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Работы.Проект</segments>
      </dataPath>
      <extendedTooltip>
        <name>РаботыПроектРасширеннаяПодсказка</name>
        <id>60</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>РаботыПроектКонтекстноеМеню</name>
        <id>59</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>РаботыВидДеятельности</name>
      <id>49</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Работы.ВидДеятельности</segments>
      </dataPath>
      <extendedTooltip>
        <name>РаботыВидДеятельностиРасширеннаяПодсказка</name>
        <id>51</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>РаботыВидДеятельностиКонтекстноеМеню</name>
        <id>50</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>РаботыДата</name>
      <id>52</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Работы.Дата</segments>
      </dataPath>
      <toolTip>
        <key>ru</key>
        <value>Дата последнего использования</value>
      </toolTip>
      <extendedTooltip>
        <name>РаботыДатаРасширеннаяПодсказка</name>
        <id>54</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>РаботыДатаКонтекстноеМеню</name>
        <id>53</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxHeight>true</autoMaxHeight>
        <format>
          <key>ru</key>
          <value>ДФ=dd.MM.yyyy</value>
        </format>
      </extInfo>
    </items>
    <items xsi:type="form:FormField">
      <name>Этап</name>
      <id>69</id>
      <visible>true</visible>
      <enabled>true</enabled>
      <userVisible>
        <common>true</common>
      </userVisible>
      <dataPath xsi:type="form:DataPath">
        <segments>Работы.Этап</segments>
      </dataPath>
      <extendedTooltip>
        <name>ЭтапРасширеннаяПодсказка</name>
        <id>71</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>ЭтапКонтекстноеМеню</name>
        <id>70</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>LabelField</type>
      <editMode>Enter</editMode>
      <showInHeader>true</showInHeader>
      <headerHorizontalAlign>Left</headerHorizontalAlign>
      <showInFooter>true</showInFooter>
      <extInfo xsi:type="form:LabelFieldExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
      </extInfo>
    </items>
    <autoCommandBar>
      <name>РаботыКоманднаяПанель</name>
      <id>38</id>
      <items xsi:type="form:Button">
        <name>РаботыИзменитьФорму</name>
        <id>64</id>
        <visible>true</visible>
        <enabled>true</enabled>
        <userVisible>
          <common>true</common>
        </userVisible>
        <extendedTooltip>
          <name>РаботыИзменитьФормуРасширеннаяПодсказка</name>
          <id>65</id>
          <type>Label</type>
          <autoMaxWidth>true</autoMaxWidth>
          <autoMaxHeight>true</autoMaxHeight>
          <extInfo xsi:type="form:LabelDecorationExtInfo">
            <horizontalAlign>Left</horizontalAlign>
          </extInfo>
        </extendedTooltip>
        <commandName>Form.StandardCommand.CustomizeForm</commandName>
        <representation>Auto</representation>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <placementArea>UserCmds</placementArea>
        <representationInContextMenu>OnlyInContextMenu</representationInContextMenu>
        <locationInCommandBar>InAdditionalSubmenu</locationInCommandBar>
      </items>
      <horizontalAlign>Left</horizontalAlign>
      <autoFill>true</autoFill>
    </autoCommandBar>
    <handlers>
      <event>ValueChoice</event>
      <name>РаботыВыборЗначения</name>
    </handlers>
    <handlers>
      <event>Selection</event>
      <name>РаботыВыбор</name>
    </handlers>
    <searchStringAddition>
      <name>РаботыСтрокаПоиска</name>
      <id>40</id>
      <extendedTooltip>
        <name>РаботыСтрокаПоискаРасширеннаяПодсказка</name>
        <id>42</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>РаботыСтрокаПоискаКонтекстноеМеню</name>
        <id>41</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <source>Работы</source>
      <extInfo xsi:type="form:SearchStringAdditionExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
      </extInfo>
    </searchStringAddition>
    <viewStatusAddition>
      <name>РаботыСостояниеПросмотра</name>
      <id>43</id>
      <extendedTooltip>
        <name>РаботыСостояниеПросмотраРасширеннаяПодсказка</name>
        <id>45</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>РаботыСостояниеПросмотраКонтекстноеМеню</name>
        <id>44</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>ViewStatusAddition</type>
      <source>Работы</source>
      <extInfo xsi:type="form:ViewStatusAdditionExtInfo"/>
    </viewStatusAddition>
    <searchControlAddition>
      <name>РаботыУправлениеПоиском</name>
      <id>46</id>
      <extendedTooltip>
        <name>РаботыУправлениеПоискомРасширеннаяПодсказка</name>
        <id>48</id>
        <type>Label</type>
        <autoMaxWidth>true</autoMaxWidth>
        <autoMaxHeight>true</autoMaxHeight>
        <extInfo xsi:type="form:LabelDecorationExtInfo">
          <horizontalAlign>Left</horizontalAlign>
        </extInfo>
      </extendedTooltip>
      <contextMenu>
        <name>РаботыУправлениеПоискомКонтекстноеМеню</name>
        <id>47</id>
        <autoFill>true</autoFill>
      </contextMenu>
      <type>SearchControlAddition</type>
      <source>Работы</source>
      <extInfo xsi:type="form:SearchControlAdditionExtInfo">
        <autoMaxWidth>true</autoMaxWidth>
      </extInfo>
    </searchControlAddition>
    <extendedTooltip>
      <name>РаботыРасширеннаяПодсказка</name>
      <id>39</id>
      <type>Label</type>
      <autoMaxWidth>true</autoMaxWidth>
      <autoMaxHeight>true</autoMaxHeight>
      <extInfo xsi:type="form:LabelDecorationExtInfo">
        <horizontalAlign>Left</horizontalAlign>
      </extInfo>
    </extendedTooltip>
    <contextMenu>
      <name>РаботыКонтекстноеМеню</name>
      <id>37</id>
      <autoFill>true</autoFill>
    </contextMenu>
    <representation>HierarchicalList</representation>
    <readOnly>true</readOnly>
    <changeRowSet>true</changeRowSet>
    <changeRowOrder>true</changeRowOrder>
    <autoMaxHeight>true</autoMaxHeight>
    <autoMaxRowsCount>true</autoMaxRowsCount>
    <selectionMode>MultiRow</selectionMode>
    <header>true</header>
    <headerHeight>1</headerHeight>
    <footerHeight>1</footerHeight>
    <horizontalScrollBar>AutoUse</horizontalScrollBar>
    <verticalScrollBar>AutoUse</verticalScrollBar>
    <horizontalLines>true</horizontalLines>
    <verticalLines>true</verticalLines>
    <useAlternationRowColor>true</useAlternationRowColor>
    <searchOnInput>Auto</searchOnInput>
    <initialListView>Auto</initialListView>
    <horizontalStretch>true</horizontalStretch>
    <verticalStretch>true</verticalStretch>
    <fileDragMode>AsFileRef</fileDragMode>
    <extInfo xsi:type="form:DynamicListTableExtInfo">
      <autoRefreshPeriod>60</autoRefreshPeriod>
      <period>
        <startDate>0001-01-01T00:00:00</startDate>
        <endDate>0001-01-01T00:00:00</endDate>
      </period>
      <topLevelParent xsi:type="core:UndefinedValue"/>
      <showRoot>true</showRoot>
      <allowGettingCurrentRowURL>true</allowGettingCurrentRowURL>
    </extInfo>
  </items>
  <autoCommandBar>
    <name>ФормаКоманднаяПанель</name>
    <id>-1</id>
    <horizontalAlign>Left</horizontalAlign>
  </autoCommandBar>
  <handlers>
    <event>NotificationProcessing</event>
    <name>ОбработкаОповещения</name>
  </handlers>
  <handlers>
    <event>OnCreateAtServer</event>
    <name>ПриСозданииНаСервере</name>
  </handlers>
  <windowOpeningMode>LockOwnerWindow</windowOpeningMode>
  <saveDataInSettings>UseList</saveDataInSettings>
  <saveWindowSettings>true</saveWindowSettings>
  <autoUrl>true</autoUrl>
  <group>Vertical</group>
  <autoFillCheck>true</autoFillCheck>
  <allowFormCustomize>true</allowFormCustomize>
  <enabled>true</enabled>
  <showTitle>true</showTitle>
  <showCloseButton>true</showCloseButton>
  <attributes>
    <name>Период</name>
    <title>
      <key>ru</key>
      <value>Период</value>
    </title>
    <id>2</id>
    <valueType>
      <types>StandardPeriod</types>
    </valueType>
    <view>
      <common>true</common>
    </view>
    <edit>
      <common>true</common>
    </edit>
    <settingsSavedData xsi:type="form:DataPath">
      <segments>Период</segments>
    </settingsSavedData>
  </attributes>
  <attributes>
    <name>ТекущийПользователь</name>
    <title>
      <key>ru</key>
      <value>Текущий пользователь</value>
    </title>
    <id>3</id>
    <valueType>
      <types>CatalogRef.Пользователи</types>
    </valueType>
    <view>
      <common>true</common>
    </view>
    <edit>
      <common>true</common>
    </edit>
  </attributes>
  <attributes>
    <name>Работы</name>
    <title>
      <key>ru</key>
      <value>Работы</value>
    </title>
    <id>5</id>
    <valueType>
      <types>DynamicList</types>
    </valueType>
    <view>
      <common>true</common>
    </view>
    <edit>
      <common>true</common>
    </edit>
    <notDefaultUseAlwaysAttributes xsi:type="form:DataPath">
      <segments>Работы.ВидДеятельности</segments>
    </notDefaultUseAlwaysAttributes>
    <notDefaultUseAlwaysAttributes xsi:type="form:DataPath">
      <segments>Работы.Дата</segments>
    </notDefaultUseAlwaysAttributes>
    <notDefaultUseAlwaysAttributes xsi:type="form:DataPath">
      <segments>Работы.ОписаниеРаботы</segments>
    </notDefaultUseAlwaysAttributes>
    <notDefaultUseAlwaysAttributes xsi:type="form:DataPath">
      <segments>Работы.Проект</segments>
    </notDefaultUseAlwaysAttributes>
    <notDefaultUseAlwaysAttributes xsi:type="form:DataPath">
      <segments>Работы.Работа</segments>
    </notDefaultUseAlwaysAttributes>
    <main>true</main>
    <extInfo xsi:type="form:DynamicListExtInfo">
      <queryText>ВЫБРАТЬ
	УчетВремениОбороты.ВидДеятельности КАК ВидДеятельности,
	УчетВремениОбороты.Проект КАК Проект,
	ВЫБОР
		КОГДА УчетВремениОбороты.Задача &lt;> ЗНАЧЕНИЕ(Справочник.ЗадачиПроцесса.ПустаяСсылка)
			ТОГДА УчетВремениОбороты.Задача
		КОГДА УчетВремениОбороты.Ошибка &lt;> ЗНАЧЕНИЕ(Справочник.Ошибки.ПустаяСсылка)
			ТОГДА УчетВремениОбороты.Ошибка
		ИНАЧЕ УчетВремениОбороты.ТехническийПроект
	КОНЕЦ КАК Работа,
	ВЫБОР
		КОГДА УчетВремениОбороты.Задача &lt;> ЗНАЧЕНИЕ(Справочник.ЗадачиПроцесса.ПустаяСсылка)
			ТОГДА УчетВремениОбороты.Задача
		КОГДА УчетВремениОбороты.Ошибка &lt;> ЗНАЧЕНИЕ(Справочник.Ошибки.ПустаяСсылка)
			ТОГДА УчетВремениОбороты.Ошибка
		КОГДА УчетВремениОбороты.ТехническийПроект &lt;> ЗНАЧЕНИЕ(Справочник.ТехническиеПроекты.ПустаяСсылка)
			ТОГДА УчетВремениОбороты.ТехническийПроект
		КОГДА УчетВремениОбороты.ВидДеятельности &lt;> ЗНАЧЕНИЕ(Справочник.ВидыДеятельности.ПустаяСсылка)
			ТОГДА УчетВремениОбороты.ВидДеятельности
		ИНАЧЕ НЕОПРЕДЕЛЕНО
	КОНЕЦ КАК РаботаДляХронометража,
	УчетВремениОбороты.ОписаниеРаботы КАК ОписаниеРаботы,
	УчетВремениОбороты.Период КАК Дата
ПОМЕСТИТЬ ВТДанные
ИЗ
	РегистрНакопления.УчетВремени.Обороты(&amp;НачалоПериода, &amp;КонецПериода, ДЕНЬ, Пользователь = &amp;Пользователь) КАК УчетВремениОбороты
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТДанные.ВидДеятельности КАК ВидДеятельности,
	ВТДанные.Проект КАК Проект,
	ВТДанные.Работа КАК Работа,
	ВТДанные.ОписаниеРаботы КАК ОписаниеРаботы,
	ВЫБОР
		КОГДА ХронометражРабочегоВремени.Начало ЕСТЬ NULL
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК ИндексКартинкиХронометража,
	МАКСИМУМ(ВТДанные.Дата) КАК Дата
ПОМЕСТИТЬ ВТЭтапы
ИЗ
	ВТДанные КАК ВТДанные
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ХронометражРабочегоВремени КАК ХронометражРабочегоВремени
		ПО (ХронометражРабочегоВремени.Пользователь = &amp;Пользователь)
			И ВТДанные.РаботаДляХронометража = ХронометражРабочегоВремени.Работа
			И ВТДанные.ОписаниеРаботы = ХронометражРабочегоВремени.ОписаниеРаботы
ГДЕ
	ВТДанные.Дата >= &amp;НачалоПериода
	И (ВТДанные.Дата &lt;= &amp;КонецПериода
			ИЛИ &amp;КонецПериода = ДАТАВРЕМЯ(1, 1, 1))

СГРУППИРОВАТЬ ПО
	ВТДанные.ВидДеятельности,
	ВТДанные.Проект,
	ВТДанные.Работа,
	ВТДанные.ОписаниеРаботы,
	ВЫБОР
		КОГДА ХронометражРабочегоВремени.Начало ЕСТЬ NULL
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТЭтапы.ВидДеятельности КАК ВидДеятельности,
	ВТЭтапы.Проект КАК Проект,
	ВТЭтапы.Работа КАК Работа,
	ВТЭтапы.ОписаниеРаботы КАК ОписаниеРаботы,
	ВТЭтапы.ИндексКартинкиХронометража КАК ИндексКартинкиХронометража,
	ВТЭтапы.Дата КАК Дата,
	ВЫБОР
		КОГДА ВТЭтапы.Работа ССЫЛКА Справочник.ЗадачиПроцесса
			ТОГДА ВЫРАЗИТЬ(ВТЭтапы.Работа.Предмет КАК Справочник.ТехническиеПроекты).РазделПроекта
		КОГДА ВТЭтапы.Работа ССЫЛКА Справочник.ТехническиеПроекты
			ТОГДА ВЫРАЗИТЬ(ВТЭтапы.Работа КАК Справочник.ТехническиеПроекты).РазделПроекта
		КОГДА ВТЭтапы.Работа ССЫЛКА Справочник.Ошибки
			ТОГДА ВЫРАЗИТЬ(ВТЭтапы.Работа КАК Справочник.Ошибки).РазделПроекта
	КОНЕЦ КАК Этап,
	ВТЭтапы.Работа.Предмет.РазделПроекта КАК РаботаПредметРазделПроекта
ИЗ
	ВТЭтапы КАК ВТЭтапы</queryText>
      <autoFillAvailableFields>true</autoFillAvailableFields>
      <customQuery>true</customQuery>
      <autoSaveUserSettings>true</autoSaveUserSettings>
      <getInvisibleFieldPresentations>true</getInvisibleFieldPresentations>
      <fields xsi:type="schema:DataCompositionSchemaDataSetField">
        <dataPath>Ошибка</dataPath>
        <field>Ошибка</field>
      </fields>
      <fields xsi:type="schema:DataCompositionSchemaDataSetField">
        <dataPath>Пользователь</dataPath>
        <field>Пользователь</field>
      </fields>
      <fields xsi:type="schema:DataCompositionSchemaDataSetField">
        <dataPath>Задача</dataPath>
        <field>Задача</field>
      </fields>
      <fields xsi:type="schema:DataCompositionSchemaDataSetField">
        <dataPath>Проект</dataPath>
        <field>Проект</field>
      </fields>
      <fields xsi:type="schema:DataCompositionSchemaDataSetField">
        <dataPath>ВидДеятельности</dataPath>
        <field>ВидДеятельности</field>
      </fields>
      <fields xsi:type="schema:DataCompositionSchemaDataSetField">
        <dataPath>ИндексКартинкиХронометража</dataPath>
        <field>ИндексКартинкиХронометража</field>
        <title>
          <localValue>
            <content>
              <key>ru</key>
              <value>Индекс картинки хронометража</value>
            </content>
          </localValue>
        </title>
      </fields>
      <fields xsi:type="schema:DataCompositionSchemaDataSetField">
        <dataPath>ТехническийПроект</dataPath>
        <field>ТехническийПроект</field>
      </fields>
      <fields xsi:type="schema:DataCompositionSchemaDataSetField">
        <dataPath>ОписаниеРаботы</dataPath>
        <field>ОписаниеРаботы</field>
      </fields>
      <fields xsi:type="schema:DataCompositionSchemaDataSetField">
        <dataPath>Работа</dataPath>
        <field>Работа</field>
        <title>
          <localValue>
            <content>
              <key>ru</key>
              <value>Работа</value>
            </content>
          </localValue>
        </title>
      </fields>
      <fields xsi:type="schema:DataCompositionSchemaDataSetField">
        <dataPath>Дата</dataPath>
        <field>Дата</field>
        <title>
          <localValue>
            <content>
              <key>ru</key>
              <value>Дата</value>
            </content>
          </localValue>
        </title>
      </fields>
      <fields xsi:type="schema:DataCompositionSchemaDataSetField">
        <dataPath>Этап</dataPath>
        <field>Этап</field>
        <title>
          <localValue>
            <content>
              <key>ru</key>
              <value>Этап</value>
            </content>
          </localValue>
        </title>
      </fields>
      <fields xsi:type="schema:DataCompositionSchemaDataSetField">
        <dataPath>РаботаПредметРазделПроекта</dataPath>
        <field>РаботаПредметРазделПроекта</field>
        <title>
          <localValue>
            <content>
              <key>ru</key>
              <value>Работа предмет раздел проекта</value>
            </content>
          </localValue>
        </title>
      </fields>
      <parameters>
        <name>НачалоПериода</name>
        <title>
          <localValue>
            <content>
              <key>ru</key>
              <value>Начало периода</value>
            </content>
          </localValue>
        </title>
        <valueType>
          <types>Date</types>
          <dateQualifiers/>
        </valueType>
        <values xsi:type="core:DateValue">
          <value>0001-01-01T00:00:00</value>
        </values>
      </parameters>
      <parameters>
        <name>КонецПериода</name>
        <title>
          <localValue>
            <content>
              <key>ru</key>
              <value>Конец периода</value>
            </content>
          </localValue>
        </title>
        <valueType>
          <types>Date</types>
          <dateQualifiers/>
        </valueType>
        <values xsi:type="core:DateValue">
          <value>0001-01-01T00:00:00</value>
        </values>
      </parameters>
      <parameters>
        <name>Пользователь</name>
        <title>
          <localValue>
            <content>
              <key>ru</key>
              <value>Пользователь</value>
            </content>
          </localValue>
        </title>
        <valueType>
          <types>CatalogRef.Пользователи</types>
        </valueType>
        <values xsi:type="core:UndefinedValue"/>
        <useRestriction>true</useRestriction>
      </parameters>
    </extInfo>
  </attributes>
  <commandInterface>
    <navigationPanel/>
    <commandBar/>
  </commandInterface>
  <extInfo xsi:type="form:DynamicListFormExtInfo"/>
</form:Form>
